<ion-view view-title="cascade">
    <ion-content>
        <form name="form" ng-submit="search()">
            <label class="item item-input">
                <i class="icon ion-search placeholder-icon"></i>
                <input type="text" name="search" placeholder="Search" ng-model="query.string" ng-minlength="4"
                       required/>
            </label>

        </form>

        <ion-list>
            <ion-item class="item" ng-repeat="torrent in torrents"
                      href="#/torrents/{{torrent.id}}">
                <div class="row">
                    <div class="col-1" ng-switch on="torrent.category">
                        <div ng-switch-when="tv" class="button button-positive">
                            <i class="icon ion-monitor"></i>
                        </div>
                        <div ng-switch-when="movie" class="button button-calm">
                            <i class="icon ion-ios-videocam"></i>
                        </div>
                        <div ng-switch-when="book" class="button button-balanced">
                            <i class="icon ion-ios-book"></i>
                        </div>
                        <div ng-switch-when="music" class="button button-royal">
                            <i class="icon ion-music-note"></i>
                        </div>
                        <div ng-switch-when="game" class="button button-assertive">
                            <i class="icon ion-ios-game-controller-b"></i>
                        </div>
                        <div ng-switch-when="app" class="button button-dark">
                            <i class="icon ion-gear-a"></i>
                        </div>
                        <div ng-switch-when="xxx" class="button button-stable">
                            <i class="icon ion-alert-circled"></i>
                        </div>
                        <div ng-switch-default class="button button-light">
                            <i class="icon ion-paperclip"></i>
                        </div>
                    </div>

                    <div class="col">
                        <h2>{{torrent.name}}</h2>

                        <p>{{torrent.seed}} | {{torrent.leech}} | {{torrent.size}} | {{torrent.age}}</p>
                    </div>
                </div>

                <ion-option-button class="button-assertive" ng-click="download(torrent)">
                    <i class="icon ion-magnet"></i>
                </ion-option-button>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>
